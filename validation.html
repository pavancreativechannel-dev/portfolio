<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Portfolio — Form Validation Demo</title>
    <style>
         :root {
            --bg: #f6f9fc;
            --card: #ffffff;
            --accent: #0ea5a4;
            --muted: #6b7280;
            --danger: #ef4444
        }
        
        * {
            box-sizing: border-box
        }
        
        body {
            font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(180deg, #eef2f7, #f8fafc);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px
        }
        
        .card {
            width: 100%;
            max-width: 900px;
            background: var(--card);
            border-radius: 12px;
            padding: 22px;
            box-shadow: 0 8px 30px rgba(15, 23, 42, 0.08);
            border: 1px solid rgba(15, 23, 42, 0.04)
        }
        
        h1 {
            margin: 0 0 6px 0;
            font-size: 20px
        }
        
        p.lead {
            margin: 0 0 18px 0;
            color: var(--muted)
        }
        
        form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px
        }
        
        .full {
            grid-column: 1/ -1
        }
        
        label {
            display: block;
            font-size: 13px;
            color: #0f1724;
            margin-bottom: 6px
        }
        
        input[type=text],
        input[type=email],
        input[type=password],
        input[type=url],
        textarea,
        select {
            width: 100%;
            padding: 10px 12px;
            border-radius: 8px;
            border: 1px solid #e6eef6;
            background: #fbfdff
        }
        
        textarea {
            resize: vertical;
            min-height: 94px
        }
        
        .row {
            display: flex;
            gap: 8px
        }
        
        .small {
            width: 120px
        }
        
        .muted {
            font-size: 13px;
            color: var(--muted);
            margin-top: 6px
        }
        
        .error {
            color: var(--danger);
            font-size: 13px;
            margin-top: 6px
        }
        
        .success {
            color: green;
            font-size: 14px
        }
        
        .actions {
            display: flex;
            gap: 8px;
            justify-content: flex-end
        }
        
        button {
            background: var(--accent);
            color: white;
            border: 0;
            padding: 10px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600
        }
        
        button.secondary {
            background: transparent;
            border: 1px solid rgba(15, 23, 42, 0.06);
            color: var(--muted)
        }
        
        .meter {
            height: 8px;
            background: #e6eef6;
            border-radius: 999px;
            overflow: hidden
        }
        
        .meter>span {
            display: block;
            height: 100%;
            width: 0%;
            transition: width .25s ease
        }
        
        .preview {
            background: #fafafa;
            padding: 12px;
            border-radius: 8px;
            border: 1px dashed rgba(15, 23, 42, 0.04);
            font-size: 14px;
            color: var(--muted)
        }
        
        @media (max-width:820px) {
            form {
                grid-template-columns: 1fr
            }
            .small {
                width: 100%
            }
            .actions {
                justify-content: stretch
            }
        }
    </style>
</head>

<body>
    <div class="card">
        <h1>Contact / Signup Form — Validation Demo</h1>
        <p class="lead">Clean, accessible form validation you can use in your portfolio. Tries email/phone/password rules, file checks, and shows friendly error messages.</p>

        <form id="demo-form" novalidate>
            <div>
                <label for="name">Full name *</label>
                <input id="name" name="name" type="text" placeholder="Your full name" required />
                <div class="error" id="err-name" aria-live="polite"></div>
            </div>

            <div>
                <label for="email">Email *</label>
                <input id="email" name="email" type="email" placeholder="you@example.com" required />
                <div class="error" id="err-email" aria-live="polite"></div>
            </div>

            <div>
                <label for="phone">Phone (10 digits) *</label>
                <input id="phone" name="phone" type="text" placeholder="9876543210" inputmode="numeric" required />
                <div class="error" id="err-phone" aria-live="polite"></div>
            </div>

            <div>
                <label for="website">Website (optional)</label>
                <input id="website" name="website" type="url" placeholder="https://your-site.com" />
                <div class="error" id="err-website" aria-live="polite"></div>
            </div>

            <div>
                <label for="password">Password *</label>
                <input id="password" name="password" type="password" placeholder="Min 8 chars, 1 number, 1 uppercase" required />
                <div class="meter" aria-hidden="true"><span id="pwd-meter"></span></div>
                <div class="error" id="err-password" aria-live="polite"></div>
            </div>

            <div>
                <label for="confirm">Confirm Password *</label>
                <input id="confirm" name="confirm" type="password" placeholder="Repeat password" required />
                <div class="error" id="err-confirm" aria-live="polite"></div>
            </div>

            <div class="full">
                <label for="bio">Short bio (max 300 chars)</label>
                <textarea id="bio" name="bio" maxlength="300" placeholder="A short intro for your portfolio..."></textarea>
                <div class="muted" id="bio-count">0 / 300</div>
            </div>

            <div>
                <label>Skills (choose at least one) *</label>
                <div style="display:flex; gap:8px; flex-wrap:wrap">
                    <label><input type="checkbox" name="skill" value="HTML"> HTML</label>
                    <label><input type="checkbox" name="skill" value="CSS"> CSS</label>
                    <label><input type="checkbox" name="skill" value="JavaScript"> JavaScript</label>
                    <label><input type="checkbox" name="skill" value="React"> React</label>
                    <label><input type="checkbox" name="skill" value="Node"> Node</label>
                </div>
                <div class="error" id="err-skill" aria-live="polite"></div>
            </div>

            <div>
                <label for="resume">Upload Resume (PDF, &lt;2MB)</label>
                <input id="resume" name="resume" type="file" accept="application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document" />
                <div class="error" id="err-resume" aria-live="polite"></div>
            </div>

            <div class="full">
                <label><input id="terms" name="terms" type="checkbox" required> I agree to be contacted about my application *</label>
                <div class="error" id="err-terms" aria-live="polite"></div>
            </div>

            <div class="full actions">
                <button type="button" class="secondary" id="reset">Reset</button>
                <button type="submit">Submit</button>
            </div>
        </form>

        <div style="margin-top:14px;">
            <div class="preview" id="preview">No submission yet.</div>
        </div>
    </div>

    <script>
        // Selectors
        const form = document.getElementById('demo-form');
        const preview = document.getElementById('preview');
        const nameEl = document.getElementById('name');
        const emailEl = document.getElementById('email');
        const phoneEl = document.getElementById('phone');
        const websiteEl = document.getElementById('website');
        const pwdEl = document.getElementById('password');
        const confEl = document.getElementById('confirm');
        const bioEl = document.getElementById('bio');
        const bioCount = document.getElementById('bio-count');
        const resumeEl = document.getElementById('resume');
        const pwdMeter = document.getElementById('pwd-meter');

        const ERR = {
            name: document.getElementById('err-name'),
            email: document.getElementById('err-email'),
            phone: document.getElementById('err-phone'),
            website: document.getElementById('err-website'),
            password: document.getElementById('err-password'),
            confirm: document.getElementById('err-confirm'),
            skill: document.getElementById('err-skill'),
            resume: document.getElementById('err-resume'),
            terms: document.getElementById('err-terms')
        };

        // Validators
        const validators = {
            name: v => v.trim().length >= 3 || 'Name must be at least 3 characters',
            email: v => /^\S+@\S+\.\S+$/.test(v) || 'Enter a valid email',
            phone: v => /^\d{10}$/.test(v) || 'Enter a 10-digit phone number',
            website: v => v.trim() === '' || /^(https?:\/\/)?[\w-]+(\.[\w-]+)+\/?/.test(v) || 'Enter a valid URL',
            password: v => {
                if (v.length < 8) return 'Password must be at least 8 characters';
                if (!/[A-Z]/.test(v)) return 'Include at least one uppercase letter';
                if (!/\d/.test(v)) return 'Include at least one number';
                return true;
            }
        };

        function showError(key, msg) {
            ERR[key].textContent = msg || '';
        }

        function clearErrors() {
            Object.keys(ERR).forEach(k => ERR[k].textContent = '');
        }

        // Live bio count
        bioEl.addEventListener('input', () => {
            bioCount.textContent = bioEl.value.length + ' / 300';
        });

        // Password strength meter
        pwdEl.addEventListener('input', () => {
            const v = pwdEl.value;
            let score = 0;
            if (v.length >= 8) score += 30;
            if (/[A-Z]/.test(v)) score += 25;
            if (/[0-9]/.test(v)) score += 20;
            if (/[^A-Za-z0-9]/.test(v)) score += 25;
            score = Math.min(100, score);
            pwdMeter.style.width = score + '%';
            if (score < 40) pwdMeter.style.background = '#ef4444';
            else if (score < 70) pwdMeter.style.background = '#f59e0b';
            else pwdMeter.style.background = '#10b981';
        });

        // Individual field validation
        function validateField(field) {
            const val = (field.value || '').toString();
            if (field.required && !val.trim()) return 'This field is required';
            if (validators[field.name]) {
                const r = validators[field.name](val);
                if (r !== true) return r;
            }
            return true;
        }

        // Form submit
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            clearErrors();
            let ok = true;

            // Name
            const vname = nameEl.value;
            const rname = validateField(nameEl);
            if (rname !== true) {
                showError('name', rname);
                ok = false;
            }

            // Email
            const remail = validateField(emailEl);
            if (remail !== true) {
                showError('email', remail);
                ok = false;
            }

            // Phone
            const rphone = validateField(phoneEl);
            if (rphone !== true) {
                showError('phone', rphone);
                ok = false;
            }

            // Website (optional)
            const rsite = validateField(websiteEl);
            if (rsite !== true) {
                showError('website', rsite);
                ok = false;
            }

            // Password
            const rpass = validateField(pwdEl);
            if (rpass !== true) {
                showError('password', rpass);
                ok = false;
            }

            // Confirm
            if (confEl.value !== pwdEl.value) {
                showError('confirm', 'Passwords do not match');
                ok = false;
            }

            // Skills
            const skills = Array.from(document.querySelectorAll('input[name="skill"]:checked')).map(x => x.value);
            if (skills.length === 0) {
                showError('skill', 'Choose at least one skill');
                ok = false;
            }

            // Resume
            if (resumeEl.files.length) {
                const file = resumeEl.files[0];
                const max = 2 * 1024 * 1024; //2MB
                const allowed = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
                if (file.size > max) {
                    showError('resume', 'File too large (max 2MB)');
                    ok = false;
                }
                if (!allowed.includes(file.type)) {
                    showError('resume', 'Invalid file type');
                    ok = false;
                }
            }

            // Terms
            if (!document.getElementById('terms').checked) {
                showError('terms', 'You must agree to be contacted');
                ok = false;
            }

            if (!ok) {
                preview.textContent = 'Please fix errors above and resubmit.';
                preview.style.color = '';
                return;
            }

            // Build preview and save to localStorage (mock submit)
            const data = {
                name: vname.trim(),
                email: emailEl.value.trim(),
                phone: phoneEl.value.trim(),
                website: websiteEl.value.trim(),
                bio: bioEl.value.trim(),
                skills,
                submittedAt: new Date().toISOString()
            };
            localStorage.setItem('portfolio_form_demo', JSON.stringify(data));

            preview.style.color = 'green';
            preview.innerHTML = '<strong>Submitted!</strong>\n' +
                'Name: ' + data.name + '<br>' +
                'Email: ' + data.email + '<br>' +
                'Phone: ' + data.phone + '<br>' +
                'Skills: ' + data.skills.join(', ') + '<br>' +
                'Saved to localStorage (key: portfolio_form_demo)';

            form.reset();
            pwdMeter.style.width = '0%';
            bioCount.textContent = '0 / 300';
        });

        // Reset
        document.getElementById('reset').addEventListener('click', () => {
            form.reset();
            clearErrors();
            preview.textContent = 'No submission yet.';
            pwdMeter.style.width = '0%';
            bioCount.textContent = '0 / 300';
        });

        // Real-time validation on blur
        [nameEl, emailEl, phoneEl, websiteEl, pwdEl, confEl].forEach(el => el.addEventListener('blur', () => {
            const r = validateField(el);
            const key = el.name;
            if (r !== true) showError(key, r);
            else showError(key, '');
        }));
    </script>
</body>

</html>